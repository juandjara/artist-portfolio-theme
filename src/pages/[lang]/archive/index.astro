---
import Blocks from "../../../components/Blocks.astro";
import BaseLayout from "../../../layouts/BaseLayout.astro"
import { getPage } from "../../../lib/directus";
import type { PageBlocks } from "../../../lib/directus.types";
import { i18nConfig } from "../../../lib/i18n";

export function getStaticPaths() {
  return i18nConfig.locales.map((lang) => ({ params: { lang } }));
}

const page = await getPage('/')
const blocks = page.blocks.filter((b) => b && typeof b !== "string") as PageBlocks[]

---
<BaseLayout>
  <Blocks blocks={blocks} />
</BaseLayout>
